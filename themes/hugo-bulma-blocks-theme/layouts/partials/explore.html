<div class="container">
    <div class="has-text-centered explore-button">
        <a class="button is-primary1 is-size-5" href="{{ absURL "project/overview/" }}"
            >{{ i18n "exploreQgis" }}</a
        >
    </div>
</div>

<div class="explore container is-flex">
    <div class="columns">
        <div class="column photo">
            <figure>
                <img src="{{ absURL "img/explore.jpg" }}" />
            </figure>
        </div>
        <div class="column text">
            <h2>
                ðŸ‘‹ {{ i18n "powerOfOpenSourceCommunity" }}
            </h2>
            <p class="is-size-5 has-text-weight-light">
                {{ i18n "communityDevelopmentModel" }}
            </p>
            <ul class="arrow-ul is-size-5 has-text-weight-bold">
                <li>
                    {{ i18n "joinConference1" }} <a href="https://uc2025.qgis.org/">{{ i18n "annualInternationalConference" }}</a>
                    {{ i18n "joinConference2" }}
                </li>
                <li>{{ i18n "findLocalGroups" }}</li>
                <li>
                    {{ i18n "learnHowPeopleSolveProblems" }}
                </li>
            </ul>
            <a class="button is-size-5" href="{{ absURL "community/involve" }}"> {{ i18n "getInvolved" }} </a>
        </div>
    </div>
</div>

<div id="light-blue-block">
    <div class="container has-text-centered mobile-bg">
        <h2>{{ i18n "freeAndOpenSource" }}</h2>
        <p class="is-size-5 has-text-weight-light">
            {{ i18n "qgisIsPublicProject" }}
        </p>
        <p class="is-size-5 has-text-weight-bold">
            {{ i18n "becauseOfOurLicense" }}
        </p>

        <a class="button is-primary1 is-size-5 mt-5" href="{{ absURL "download/" }}">{{ i18n "freeDownload" }}</a>
    </div>
</div>

<div id="start-using-qgis">
<div class="container is-flex mobile-bg">
    <div class="tile is-vertical p-5">
        <div>
            <h2>{{ i18n "startUsingQgis" }} ðŸš€</h2>
            <ul class="arrow-ul mt-4 is-size-5 has-text-weight-bold">
                <li>{{ i18n "quickStartTutorials" }}</li>
                <li>{{ i18n "liveDemos" }}</li>
                <li>{{ i18n "upToDateDocumentation" }}</li>
            </ul>

            <a class="mt-5 is-size-5 block" href="https://docs.qgis.org/latest/en/docs/user_manual/index.html">
                {{ i18n "viewDocumentation" }}
            </a>
        </div>
    </div>
    <div class="tile video">
        <div class="youtube" data-video-id="v6Ejov4u7xk">
            <div class="play-button"></div>
        </div>

    </div>
</div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    var youtubeElements = document.querySelectorAll('.youtube');
    
    youtubeElements.forEach(function(element) {
        var videoId = element.getAttribute('data-video-id');
        var maxResThumbnailUrl = 'https://img.youtube.com/vi/' + videoId + '/maxresdefault.jpg';
        var fallbackThumbnailUrl = 'https://img.youtube.com/vi/' + videoId + '/hqdefault.jpg';

        // Check if the max resolution thumbnail is available
        var img = new Image();
        img.onload = function() {
            if (img.width > 120) {
                element.style.backgroundImage = 'url(' + maxResThumbnailUrl + ')';
            } else {
                element.style.backgroundImage = 'url(' + fallbackThumbnailUrl + ')';
            }
        };
        img.onerror = function() {
            element.style.backgroundImage = 'url(' + fallbackThumbnailUrl + ')';
        };
        img.src = maxResThumbnailUrl;

        element.addEventListener('click', function() {
            var iframe = document.createElement('iframe');
            iframe.setAttribute('width', '560');
            iframe.setAttribute('height', '315');
            iframe.setAttribute('src', 'https://www.youtube.com/embed/' + videoId + '?autoplay=1');
            iframe.setAttribute('frameborder', '0');
            iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share');
            iframe.setAttribute('allowfullscreen', 'true');
            this.innerHTML = '';
            this.appendChild(iframe);
        });
    });
});

</script>
