{{ $allContributors := $.Site.Data.contributors.contributors.contributors }}
{{ $contributors := slice }}
{{ range $allContributors }}
    {{ if .has_github_account }}
        {{ $contributors = $contributors | append . }}
    {{ end }}
{{ end }}
{{ $contributors = sort $contributors "total_contributions" "desc" }}
<div class="columns is-multiline">
    {{ range $idx, $contributor := $contributors }}
    <div class="column is-one-third">
        <div class="card contributor-card individual" id="{{ .login | urlize }}">
            <div class="card-content has-text-centered">
                <div class="avatar-container">
                    <img src="{{ $contributor.avatar_url }}" alt="{{ $contributor.login }}" class="avatar" loading="lazy">
                    <span class="level-indicator level-5 p-1"># {{ add $idx 1 }}</span>
                </div>
                <h3 class="title is-4">
                    <a class="heading-anchor" href="#{{ .login | urlize }}" style="margin-left: -22.3px;">
                        Â¶
                    </a>
                    <a href="https://github.com/{{ .login }}" class="external-link" target="_blank" rel="noopener">
                        {{ .login }}
                    </a>
                </h3>

                <div class="total-contributions mb-4 is-flex is-justify-content-center is-align-items-center">
                    <span class="tag is-light is-medium has-text-weight-semibold mr-1 is-rounded">
                        <i class="fab fa-git-alt mr-1 has-text-info"></i>
                        {{ .total_contributions }}
                    </span>
                    <span class="has-text-grey">commits</span>
                </div>
                <!-- <p class="subtitle is-6">Core Developer & PSC Member</p>
                <div class="content">
                    <p>Long-time QGIS contributor focusing on server development, web services, and plugin architecture improvements.</p>
                </div> -->
                <div class="contribution-badges">
                        {{ $thematicList := slice }}
                        {{ range $k, $v := .thematics }}
                            {{ $thematicList = $thematicList | append (dict "name" $k "count" $v) }}
                        {{ end }}
                        {{ $sorted := sort $thematicList "count" "desc" }}
                        {{ range $item := $sorted }}
                            {{ $thematic := $item.name }}
                            {{ $count := $item.count }}
                            {{ if gt $count 0 }}
                                <span class="contributor-badge contributor-badge-{{ $thematic }}">
                                    <span>
                                        {{ if eq $thematic "documentation" }}<i class="fas fa-book mr-1"></i> QGIS Documentation{{ end }}
                                        {{ if eq $thematic "qgis_core" }}<i class="fas fa-code mr-1"></i> QGIS Core{{ end }}
                                        {{ if eq $thematic "web_sites" }}<i class="fas fa-globe mr-1"></i> QGIS Web Sites{{ end }}
                                        {{ if eq $thematic "community_activities" }}<i class="fas fa-users mr-1"></i> Community{{ end }}
                                        {{ if eq $thematic "qgis_infrastructure" }}<i class="fas fa-server mr-1"></i> Infrastructure{{ end }}
                                    </span>
                                    <span class="contribution-count">
                                        <i class="fab fa-git-alt"></i>
                                        {{ $count }}
                                    </span>
                                </span>
                            {{ end }}
                        {{ end }}
                </div>
            </div>
        </div>
    </div>
    {{ end }}
</div>